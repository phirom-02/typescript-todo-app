var x=Object.defineProperty;var w=(r,e,t)=>e in r?x(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var l=(r,e,t)=>(w(r,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();class g{constructor(e,t,i=!1){this._id=e,this._description=t,this._completed=i}get id(){return this._id}set id(e){this._id=e}get description(){return this._description}set description(e){this._description=e}get completed(){return this._completed}set completed(e){this._completed=e}}const c=class c{constructor(e=[]){this._list=e}get list(){return this._list}save(){localStorage.setItem("myTasks",JSON.stringify(this._list))}load(){const e=localStorage.getItem("myTasks");if(typeof e!="string")return;JSON.parse(e).forEach(i=>{const n=new g(i._id,i._description,i._completed);c.instance.add(n)})}clear(){}add(e){c.instance._list.unshift(e),this.save()}remove(e){this._list=this._list.filter(t=>t.id!==e),this.save()}};l(c,"instance",new c);let h=c;const a=class a{constructor(){l(this,"ul");l(this,"editOverlay");this.ul=document.querySelector("#task-list"),this.editOverlay=document.querySelector("#edit-overlay")}clear(){this.ul.innerHTML=""}closeEditModal(){this.editOverlay.classList.remove("flex"),this.editOverlay.classList.add("hidden")}openEditModal(){this.editOverlay.classList.remove("hidden"),this.editOverlay.classList.add("flex")}render(e){this.clear(),e.list.forEach(t=>{const i=document.createElement("li");i.className="flex items-center gap-4 p-2 shadow-md rounded-md mb-2";const n=document.createElement("span");n.className="p-1 cursor-pointer";const s=document.createElement("input");s.type="checkbox",s.id=t.id,s.tabIndex=0,s.checked=t.completed,s.addEventListener("change",()=>{t.completed=!t.completed,this.render(e),e.save()}),n.append(s),i.append(n);const o=document.createElement("label");o.className=`flex-1 text-sm text-gray-500 ${t.completed?"line-through text-gray-400":""}`,o.htmlFor=t.id,o.textContent=t.description,i.append(o);const d=document.createElement("span"),y=document.createElement("i");y.className="ti ti-x text-red-500 p-1 cursor-pointer",d.append(y),d.addEventListener("click",()=>{e.remove(t.id),this.render(e)}),i.append(d);const u=document.createElement("span"),v=document.createElement("i");v.className="ti ti-edit text-blue-500 p-1 cursor-pointer",u.append(v),u.addEventListener("click",()=>{this.openEditModal();const m=document.getElementById("edit-input");m.value=t.description;const p=document.getElementById("edit-form");p==null||p.addEventListener("submit",O=>{O.preventDefault();const E=m.value;if(!m||E===t.description){this.closeEditModal();return}t.description=E,this.closeEditModal(),this.render(e),e.save()}),document.querySelector("#close-modal").addEventListener("click",()=>{this.closeEditModal()})}),i.append(u),this.ul.append(i)})}};l(a,"instance",new a);let f=a;const _=()=>{const r=h.instance,e=f.instance;document.getElementById("task-form").addEventListener("submit",i=>{i.preventDefault();const n=document.getElementById("task-input"),s=Date.now().toString(),o=n.value.trim();if(o==="")return;const d=new g(s,o);r.add(d),n.value="",e.render(r)}),r.load(),e.render(r)};document.addEventListener("DOMContentLoaded",_);
